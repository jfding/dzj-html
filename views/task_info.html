<!DOCTYPE html>
{% from controller.task.base import TaskHandler as Th %}
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>任务详情</title>
  {% include _base_meta.html %}
  {% include _base_css.html %}
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->

  <style>
    .task-info {
      display: block;
      padding: 20px 20px 0;
      clear: both;
    }

    .info-item {
      width: 50%;
      float: left;
      padding: 4px 5px;
      display: flex;
    }

    .input .info-item, .result .info-item {
      width: 100%;
    }

    .info-title {
      padding: 5px;
      font-size: 20px;
      display: block;
      clear: both;
      background: #fff;
    }

    .info-label {
      font-weight: bold;
      max-width: 120px;
      flex: 1;
    }

    .info-value {
      display: inline-block;
      word-break: break-all;
      flex: 1;
    }

  </style>

</head>

<body>
<div class="app-main">
  <div class="main">
    <!--模拟出左边菜单，方便写样式-->
    {% module ComLeft(title="task-manage", sub="task-manage-cut-status" ) %}
    <div class="main-content">
      {% module ComHead() %}
      <div class="layout">
          <div class="wrapper">
            <div class="task-info">
              <div class="info-title">基本信息</div>
              {% for k in display_fields %}
              {% if task.get(k) not in [None, '', {}, []] %}
              <div class="info-item">
                <label class="info-label">{{Th.get_field_name(k) or k}}</label>
                <span class="info-value">{% raw format_info(k, task[k]) %}</span>
              </div>
              {% end %}
              {% end %}
            </div>

            {% if task.get('input') %}
            <div class="task-info input">
              <div class="info-title">输入参数</div>
              {% for k, v in task.get('input').items() %}
              <div class="info-item">
                <label class="info-label">{{k}}</label>
                <span class="info-value">{% raw format_info(k, v) %}</span>
              </div>
              {% end %}
            </div>
            {% end %}

            {% if task.get('result') %}
            <div class="task-info result">
              <div class="info-title">输出结果</div>
              {% for k, v in task.get('result').items() %}
              <div class="info-item">
                <label class="info-label">{{k}}</label>
                <span class="info-value">{% raw format_info(k, v) %}</span>
              </div>
              {% end %}
            </div>
            {% end %}
          </div>
        </div>
    </div>
  </div>
</div>

{% include _base_js.html %}
</body>
</html>