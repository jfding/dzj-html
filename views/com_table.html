<table class="sty-table">
  <thead>
  <tr>
    <th><input id="check-all" type="checkbox"/></th>
    {% for f in table_fields %}
    {% if f.get('filter') %}
    <th><span class="btn-group">
      <span class="filter" title="{{f['id']}}" data-toggle="dropdown" aria-expanded="false">
        {{f['name']}}<span class="ion-android-sort"></span>
      </span>
      <ul class="dropdown-menu" role="menu">
        {% for k, v in f.get('filter').items() %}
        <li><a class="btn-a" title="{{'%s=%s' % (f['id'], k)}}">{{v}}</a></li>
        {% end %}
      </ul>
    </span></th>
    {% else %}
    <th><span class="sort {{'active' if order in [f['id'], '-'+f['id']] else ''}}" title="{{f['id']}}">
      {{f['name']}}<span class="ion-arrow-down-b {{'toggle' if order == f['id'] else ''}}"></span>
    </span></th>
    {% end %}
    {% end %}
    {% if len(actions) %}
    <th><span>操作</span></th>
    {% end %}
  </tr>
  </thead>
  <tbody>
  {% for d in docs %}
  <tr id="{{d['_id']}}">
    <td><input type="checkbox"/></td>
    {% for f in table_fields %}
    <td class="{{f['id']}}">{{format_value(d.get(f['id']), f['id']) or ''}}</td>
    {% end %}
    <td class="action">
      {% set info = {f: handler.prop(d, f, '') for f in info_fields} %}
      <span class="hide info">{{pack(info)}}</span>
      {% for a in actions %}
      <a class="{{a['action']}}">{{a['label']}}</a>
      {% end %}
    </td>
  </tr>
  {% end %}
  </tbody>
</table>
